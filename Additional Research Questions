#More research Questions:
1. What other weather factors other than temperature have an effect on ridership of Niceride and Metro Transit?
2. Look into how distance between Niceride and bus stations effects ridership over the course of one day?

also 1. variability in temperature throughout the year


```{r, cache=TRUE}
metroStops<-read_csv("https://raw.githubusercontent.com/grahamammal/Data-Science-Final/master/bus-stops-Oct-2017.csv")
metroRidership<-read_csv("https://raw.githubusercontent.com/grahamammal/Data-Science-Final/master/ridership-route-day-Jan2014-Oct2017.csv")

metroRidership2016<-metroRidership%>%
  mutate(dtDate=as.Date(dtDate))
  

MinneapolisWeather
metroRidership2016

#Add weather data to info on bus ridership
WeatherRiders<-metroRidership2016%>%
   left_join(MinneapolisWeather, by=c("dtDate"="date"))%>%
   filter(dtDate>="2016-01-01"&dtDate<="2016-12-31") #fix date object type

ggplot(WeatherRiders, aes(x=snowDepth, y=Total_Riders))+
  geom_col(color="blue4")
#shows how snow depth on a given day affects the ridership of metro transit
```

```{r cache=TRUE}
ggplot(WeatherRiders, aes(x= precip, y=Total_Riders))+ 
geom_smooth(color="blue4")+ labs(x="Precipitation in inches", y= "Total number of metro riders")
#shows how precipitation on a given day affects the ridership of metro transit


#clean up date variable in data and total riders on that date
niceRideDay<-niceRide2016%>%
   mutate(startDate=niceRide2016$Start.date)%>%
   select("startDate")%>%
   mutate(startDate=as.Date(startDate, "%m/%d/%Y"))%>%
   group_by(startDate)%>%
   summarize(numRiders=n())

#Add weather data to NiceRide data, including divergence from normals

niceRideDay<-niceRideDay%>%
   left_join(MinneapolisWeather, by=c("startDate"="date"))%>%
   mutate(day=yday(startDate))%>%
   left_join(AvgDayTemp,by="day")%>% 
   mutate(tempDiff=(maxTemp+minTemp)/2-dayTemp)

ggplot(niceRideDay, aes(x= precip, y=numRiders))+ 
geom_smooth(color="blue4")  + labs(x="Precipitation in inches", y="Number of people using NiceRide bikes")
#shows how precipitation on a given day affects the ridership of NiceRide
```
